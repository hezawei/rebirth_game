# ğŸš€ Rebirth Game - å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ åœ¨UbuntuæœåŠ¡å™¨ä¸Šå®ç°**ä¸€é”®å¼Dockerå®¹å™¨åŒ–éƒ¨ç½²**ï¼Œç¡®ä¿é¡¹ç›®çš„å®Œå…¨éš”ç¦»å’Œä¸€è‡´æ€§ã€‚

### ğŸ¯ éƒ¨ç½²ç›®æ ‡
- âœ… **å®Œå…¨å®¹å™¨åŒ–**: æ‰€æœ‰æœåŠ¡è¿è¡Œåœ¨Dockerå®¹å™¨ä¸­ï¼Œç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§
- âœ… **ä¸€é”®æ“ä½œ**: `git pull` + ä¸€ä¸ªå‘½ä»¤å³å¯å®Œæˆéƒ¨ç½²  
- âœ… **é›¶é…ç½®å†²çª**: æœ¬åœ°å¼€å‘ç¯å¢ƒä¸æœåŠ¡å™¨å®Œå…¨éš”ç¦»
- âœ… **ç”Ÿäº§å°±ç»ª**: åŒ…å«Nginxã€æ•°æ®åº“ã€ç›‘æ§ç­‰å®Œæ•´é…ç½®

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3åˆ†é’Ÿéƒ¨ç½²ï¼‰

### ç¬¬ä¸€æ­¥ï¼šæœåŠ¡å™¨åˆå§‹åŒ–ï¼ˆä¸€æ¬¡æ€§ï¼‰

åœ¨å…¨æ–°çš„UbuntuæœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# SSHç™»å½•æœåŠ¡å™¨
ssh your_user@your_server_ip

# ä¸‹è½½å¹¶è¿è¡Œåˆå§‹åŒ–è„šæœ¬
cd /opt
git clone https://github.com/your-username/rebirth_game.git
cd rebirth_game

# è¿è¡ŒæœåŠ¡å™¨åˆå§‹åŒ–
sudo ./deployment/scripts/setup-server.sh

# é‡æ–°ç™»å½•ä»¥åº”ç”¨æƒé™å˜æ›´
exit
ssh your_user@your_server_ip
```

### ç¬¬äºŒæ­¥ï¼šé…ç½®ç¯å¢ƒ

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/rebirth_game

# é…ç½®ç¯å¢ƒå˜é‡
cp deployment/configs/.env.example .env
nano .env  # é…ç½®APIå¯†é’¥

# æ£€æŸ¥ç¯å¢ƒ
./deployment/scripts/check-env.sh
```

**å¿…é¡»é…ç½®çš„å‚æ•°ï¼š**
```env
# è‡³å°‘é…ç½®ä¸€ä¸ªLLM APIå¯†é’¥
OPENAI_API_KEY=sk-your-openai-key
# æˆ–è€…å…¶ä»–APIå¯†é’¥...
```

### ç¬¬ä¸‰æ­¥ï¼šä¸€é”®éƒ¨ç½²

```bash
# æ‰§è¡Œæ™ºèƒ½éƒ¨ç½²
./deployment/scripts/deploy.sh
```

**å°±æ˜¯è¿™ä¹ˆç®€å•ï¼** ğŸ‰

## ğŸ”„ æ—¥å¸¸æ›´æ–°æµç¨‹

æœ¬åœ°å¼€å‘å®Œæˆåï¼Œåœ¨æœåŠ¡å™¨æ‰§è¡Œï¼š

```bash
cd /opt/rebirth_game
./deployment/scripts/deploy.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ‹‰å–æœ€æ–°ä»£ç 
2. é‡æ–°æ„å»ºé•œåƒ  
3. æ»šåŠ¨æ›´æ–°æœåŠ¡
4. éªŒè¯éƒ¨ç½²ç»“æœ

## ğŸ“Š æœåŠ¡ç®¡ç†

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
# å¿«é€ŸçŠ¶æ€æ£€æŸ¥
./deployment/scripts/monitor.sh status

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
./deployment/scripts/monitor.sh logs

# å®æ—¶ç›‘æ§
./deployment/scripts/monitor.sh monitor
```

### å¸¸ç”¨æ“ä½œ
```bash
# é‡å¯æœåŠ¡
./deployment/scripts/monitor.sh restart

# åœæ­¢æœåŠ¡
./deployment/scripts/monitor.sh stop

# é‡æ–°æ„å»º
./deployment/scripts/monitor.sh rebuild
```

## ğŸ› æ•…éšœæ’é™¤

### å¿«é€Ÿè¯Šæ–­
```bash
# ç¯å¢ƒæ£€æŸ¥
./deployment/scripts/check-env.sh

# å¿«é€Ÿè¯Šæ–­  
./deployment/scripts/monitor.sh diag
```

### å¸¸è§é—®é¢˜

**é—®é¢˜1: APIå¯†é’¥æœªé…ç½®**
```bash
# è§£å†³: ç¼–è¾‘.envæ–‡ä»¶
nano .env
```

**é—®é¢˜2: æœåŠ¡å¯åŠ¨å¤±è´¥**
```bash
# æŸ¥çœ‹æ—¥å¿—
./deployment/scripts/monitor.sh logs

# é‡æ–°éƒ¨ç½²
./deployment/scripts/deploy.sh
```

**é—®é¢˜3: ç«¯å£å ç”¨**
```bash
# æ£€æŸ¥ç«¯å£
./deployment/scripts/monitor.sh diag
```

## ğŸ‰ éƒ¨ç½²å®Œæˆ

éƒ¨ç½²æˆåŠŸåï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **ä¸»é¡µ**: `http://your-server-ip`
- **APIæ–‡æ¡£**: `http://your-server-ip/docs`  
- **å¥åº·æ£€æŸ¥**: `http://your-server-ip/health`

## ğŸš€ ä¼˜åŒ–ç‰¹æ€§

### ğŸ“ˆ **æ€§èƒ½ä¼˜åŒ–**

| ä¼˜åŒ–é¡¹ç›® | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡å¹…åº¦ |
|---------|--------|--------|----------|
| ç³»ç»ŸåŒ…å®‰è£… | 168s | 35s | **79% â†“** |
| PythonåŒ…å®‰è£… | 159s | ~60s | **62% â†“** |
| é•œåƒå¤§å° | ~800MB | ~400MB | **50% â†“** |
| é‡å¤éƒ¨ç½² | å…¨é‡å®‰è£… | å¢é‡æ›´æ–° | **90% â†“** |

### ğŸ”§ **æŠ€æœ¯æ”¹è¿›**
- âœ… **ç‰ˆæœ¬é”å®š**: `requirements-lock.txt` ç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§
- âœ… **æ™ºèƒ½å®‰è£…**: ä»…æ›´æ–°å¿…è¦åŒ…ï¼Œé¿å…é‡å¤å®‰è£…
- âœ… **å›½å†…é•œåƒæº**: ç³»ç»ŸåŒ…+PythonåŒ…å…¨é¢åŠ é€Ÿ
- âœ… **Dockerä¼˜åŒ–**: å±‚ç¼“å­˜+æ¸…ç†æœºåˆ¶
- âœ… **é…ç½®ç³»ç»Ÿ**: ä½¿ç”¨å†…ç½® `config/settings.py`ï¼Œæ— éœ€ `.env`

### ğŸ¯ **ä½¿ç”¨å»ºè®®**
```bash
# å¼€å‘ç¯å¢ƒæ›´æ–°ç‰ˆæœ¬é”å®š
pip freeze > deployment/configs/requirements-lock.txt

# ç”Ÿäº§ç¯å¢ƒæ™ºèƒ½ä¾èµ–ç®¡ç† 
./deployment/scripts/install-deps.sh deployment/configs/requirements-lock.txt
```

## ğŸ“ ç›®å½•ç»“æ„

```
deployment/
â”œâ”€â”€ README.md              # éƒ¨ç½²ç›®å½•è¯´æ˜
â”œâ”€â”€ QUICK_START.md         # æœ¬æ–‡æ¡£ï¼ˆå¿«é€ŸæŒ‡å—+ä¼˜åŒ–è¯´æ˜ï¼‰
â”œâ”€â”€ DEPLOYMENT_GUIDE.md    # å®Œæ•´éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ scripts/               # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ deploy.sh         # ä¸»è¦éƒ¨ç½²è„šæœ¬ â­ (å·²ä¼˜åŒ–)
â”‚   â”œâ”€â”€ deploy-simple.sh  # ç®€åŒ–ç‰ˆæœ¬
â”‚   â”œâ”€â”€ setup-server.sh   # æœåŠ¡å™¨åˆå§‹åŒ–
â”‚   â”œâ”€â”€ check-env.sh      # ç¯å¢ƒæ£€æŸ¥
â”‚   â”œâ”€â”€ install-deps.sh   # æ™ºèƒ½ä¾èµ–å®‰è£… ğŸ†•
â”‚   â””â”€â”€ monitor.sh        # æœåŠ¡ç›‘æ§
â”œâ”€â”€ configs/              # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ Dockerfile        # Dockeré•œåƒé…ç½® (å·²ä¼˜åŒ–)
â”‚   â”œâ”€â”€ docker-compose.yml # å®¹å™¨ç¼–æ’ (å·²ä¼˜åŒ–)
â”‚   â”œâ”€â”€ nginx.conf        # Nginxé…ç½®
â”‚   â”œâ”€â”€ requirements-lock.txt # é”å®šç‰ˆæœ¬ä¾èµ– ğŸ†•
â”‚   â””â”€â”€ .env.example      # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ docs/                 # è¯¦ç»†æ–‡æ¡£
```

---

**ğŸ‰ æ­å–œï¼ä½ å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªé«˜æ€§èƒ½ã€ç”Ÿäº§å°±ç»ªçš„AIæ¸¸æˆæœåŠ¡ï¼**
